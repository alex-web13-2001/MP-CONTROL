# Stage 1: Build
FROM node:20-alpine AS builder

WORKDIR /app

COPY package*.json ./
RUN npm ci

COPY . .
RUN npm run build

# Stage 2: Serve (output only)
FROM alpine:3.19

# Just copy the built files â€” nginx container will serve them
COPY --from=builder /app/dist /dist

CMD ["echo", "Frontend build complete. Files in /dist"]
